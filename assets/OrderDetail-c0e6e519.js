import{m as i,l as P,o as g,a as D,n as c,d as n,e as f,b as d,V,s as p,N as O,E as y,v as I,D as U,B as N}from"./.pnpm-33e9fd8e.js";import{a as S}from"./index-298f05d4.js";import{_ as T}from"./index-6a793670.js";import"./index-85061a81.js";const w={__name:"OrderDetail",setup(C){const r=i(""),u=P(),e=i({}),l=new Map;l.set("ORDER_FORCE_CLOSED","订单强制结束"),l.set("PRE_ORDER_REQUEST_SUBMITTED","订单已提交"),l.set("PRE_ORDER_REQUEST_PASSED","订单已通过"),l.set("PRE_DEPARTURE_USER_CANCELLED","订单已被用户取消"),l.set("DRIVING_USER_CONFIRM_DEPARTURE","用户确认发车"),l.set("DRIVING_USER_CONFIRM_ARRIVED","用户确认到达"),l.set("ARRIVED_USER_UNPAID","用户未支付"),l.set("ORDER_NORMAL_CLOSED","订单正常结束");const _=async()=>{const o=await S(r.value);o!==null&&o.code===2e3?(e.value=o.result.result,console.log(e.value)):o!==null?p({type:"danger",message:`加载订单具体信息失败,${o.msg}`}):p({type:"danger",message:"加载订单具体信息失败,请检查网络连接"})};g(async()=>{r.value=u.currentRoute.value.query.orderId,await _(),console.log(e.value.passingPoint)});const m=async()=>{const o=[];console.log(e.value),e.value.passingPoint!==""&&o.push(JSON.parse(e.value.passingPoint)),window.location.href="#/main/driver/preview-map?departurePoint="+e.value.departurePoint+"&arrivePoint="+e.value.arrivePoint+"&passingPoint="+e.value.passingPoint};return(o,a)=>{const v=O,s=U,R=N,E=y;return D(),c(V,null,[n(v,{title:"订单详情","left-text":"返回","left-arrow":"",onClickLeft:a[0]||(a[0]=t=>f(u).go(-1))}),n(E,{inset:""},{default:d(()=>[n(s,{readonly:"",modelValue:e.value.departurePoint,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.departurePoint=t),name:"出发地",label:"出发地"},null,8,["modelValue"]),n(s,{readonly:"",modelValue:e.value.arrivePoint,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.arrivePoint=t),name:"到达地",label:"到达地"},null,8,["modelValue"]),n(R,{plain:"",block:"",type:"primary",size:"small",style:{width:"40%",margin:"2% auto"},onClick:a[3]||(a[3]=t=>m())},{default:d(()=>[I(" 预览行程路线 ")]),_:1}),n(s,{modelValue:e.value.departureTime,"onUpdate:modelValue":a[4]||(a[4]=t=>e.value.departureTime=t),name:"出发时间",label:"出发时间"},null,8,["modelValue"]),n(s,{modelValue:e.value.arriveTime,"onUpdate:modelValue":a[5]||(a[5]=t=>e.value.arriveTime=t),name:"到达时间",label:"到达时间"},null,8,["modelValue"])]),_:1})],64)}}},L=T(w,[["__scopeId","data-v-8bda3d87"]]);export{L as default};
