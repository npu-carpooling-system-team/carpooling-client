import{l as r,o as i,s as t,h as u,a as d,n as p,z as l,A as _,p as m}from"./.pnpm-ef8d297c.js";import{h as f}from"./index-5d11b24d.js";import{u as h}from"./index-dcaddab6.js";import{_ as y}from"./index-f8813b5b.js";import"./index-95c6f037.js";const g=s=>(l("data-v-8641828b"),s=s(),_(),s),w={class:"welcome-banner"},S=g(()=>m("h1",null,"正在处理绑定信息",-1)),B=[S],v={__name:"BindAlipaySuccess",setup(s){const a=r(),n=h(),c=async()=>{const e=await f();e!==null&&e.code===2e3?n.$patch(o=>{o.currentUser=e.result.result}):e!==null?t({type:"danger",message:`首页初始化失败,${e.msg},请刷新页面重试`}):t({type:"danger",message:"首页初始化失败,请刷新页面重试"})};return i(()=>{const e=a.currentRoute.value.query.token;e===void 0?(t({type:"danger",message:"绑定失败,3s后跳转回登录页面",duration:3e3}),setTimeout(()=>{window.location.href="#/login"},3e3)):(u.set("token",e),t({type:"success",message:"绑定成功,3s后执行跳转",duration:3e3}),setTimeout(async()=>{await c(),window.location.href="#/main/my/my-home"},3e3))}),(e,o)=>(d(),p("div",w,B))}},U=y(v,[["__scopeId","data-v-8641828b"]]);export{U as default};
