import{_ as s}from"./index-efafad75.js";import{s as t,t as r,q as o}from"./.pnpm-ba0d9b51.js";const c=()=>{window.sessionStorage.removeItem("carpoolingCache"),window.sessionStorage.removeItem("currentUser")},n=e=>{o({duration:0,forbidClick:!0,message:e})},l=async()=>{o({duration:3,forbidClick:!0,message:"正在退出登录"});try{c(),await s.post("/api/auth/loginuser/logout")}catch{}},i=async()=>{try{const{data:e}=await s.get("/api/order/preorder/message");return e}catch(e){t({type:"danger",message:`检查新消息失败,${e.message}`})}return null},m=async()=>{n("正在获取聊天记录");try{return await i()}catch(e){t({type:"danger",message:`获取聊天记录失败,${e.message}`})}finally{r()}return null},u=async e=>{n("正在发送消息");try{const{data:a}=await s.post("/api/order/preorder/message",e);return a}catch(a){t({type:"danger",message:`发送消息失败,${a.message}`})}finally{r()}return null};export{l as a,m as b,u as c,i as h};
