import{l as d,J as v,o as f,m as _,w as h,r as w,a as r,p as b,c as n,b as k,z as s,d as y,W as C,e as c,X as R}from"./.pnpm-a881e205.js";import{u as T}from"./index-ebb134bd.js";const M={__name:"CarpoolingMain",setup(x){const e=d(),l=T(),{currentUser:o}=v(l),u=async({title:a})=>{a==="乘客-订单"?await e.push("/main/carpooling/passenger-order"):await e.push("/main/carpooling/driver-carpooling")},p=["/main/carpooling/home","/main/carpooling/passenger-order","/main/carpooling/driver-carpooling"];f(async()=>{e.currentRoute.value.path==="/main/carpooling/home"&&(o.value.user.isPassenger?window.location.href="#/main/carpooling/passenger-order":window.location.href="#/main/carpooling/driver-carpooling")});const t=_(!0);return h(()=>e.currentRoute.value.path,async a=>{t.value=p.indexOf(a)!==-1,e.currentRoute.value.path==="/main/carpooling/home"&&(o.value.user.isPassenger?window.location.href="#/main/carpooling/passenger-order":window.location.href="#/main/carpooling/driver-carpooling")}),(a,P)=>{const i=R,m=C,g=w("router-view");return r(),b("div",null,[t.value?(r(),n(m,{key:0,id:"van-tab",onClickTab:u,sticky:""},{default:k(()=>[c(o).user.isPassenger?(r(),n(i,{key:0,title:"乘客-订单",name:"order"})):s("",!0),c(o).user.isDriver?(r(),n(i,{key:1,title:"司机-行程",name:"carpooling"})):s("",!0)]),_:1})):s("",!0),y(g)])}}};export{M as default};
