import{m as u,l as g,o as D,a as V,n as f,d as n,e as O,b as p,V as c,s as m,N as y,E as U,v as I,D as N,B as S}from"./.pnpm-33e9fd8e.js";import{a as T}from"./index-298f05d4.js";import{_ as w}from"./index-7706446e.js";import"./index-85061a81.js";const C={__name:"OrderDetail",setup(b){const i=u(""),d=g(),e=u({}),t=new Map;t.set("ORDER_FORCE_CLOSED","订单强制结束"),t.set("PRE_ORDER_REQUEST_SUBMITTED","订单已提交"),t.set("PRE_ORDER_REQUEST_PASSED","订单已通过"),t.set("PRE_DEPARTURE_USER_CANCELLED","订单已被用户取消"),t.set("DRIVING_USER_CONFIRM_DEPARTURE","用户确认发车"),t.set("DRIVING_USER_CONFIRM_ARRIVED","用户确认到达"),t.set("ARRIVED_USER_UNPAID","用户未支付"),t.set("ORDER_NORMAL_CLOSED","订单正常结束");const _=async()=>{const o=await T(i.value);o!==null&&o.code===2e3?(e.value=o.result.result,console.log(e.value)):o!==null?m({type:"danger",message:`加载订单具体信息失败,${o.msg}`}):m({type:"danger",message:"加载订单具体信息失败,请检查网络连接"})},r=u("");D(async()=>{i.value=d.currentRoute.value.query.orderId,await _(),r.value=JSON.parse(e.value.passingPoint).join(" ")});const v=async()=>{const o=[];console.log(e.value),e.value.passingPoint!==""&&o.push(JSON.parse(e.value.passingPoint)),window.location.href="#/main/driver/preview-map?departurePoint="+e.value.departurePoint+"&arrivePoint="+e.value.arrivePoint+"&passingPoint="+e.value.passingPoint};return(o,a)=>{const R=y,s=N,E=S,P=U;return V(),f(c,null,[n(R,{title:"订单详情","left-text":"返回","left-arrow":"",onClickLeft:a[0]||(a[0]=l=>O(d).go(-1))}),n(P,{inset:""},{default:p(()=>[n(s,{readonly:"",modelValue:e.value.departurePoint,"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.departurePoint=l),name:"出发地",label:"出发地"},null,8,["modelValue"]),n(s,{readonly:"",modelValue:e.value.arrivePoint,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.arrivePoint=l),name:"到达地",label:"到达地"},null,8,["modelValue"]),n(s,{readonly:"",modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=l=>r.value=l),name:"途径地",label:"途径地"},null,8,["modelValue"]),n(E,{plain:"",block:"",type:"primary",size:"small",style:{width:"40%",margin:"2% auto"},onClick:a[4]||(a[4]=l=>v())},{default:p(()=>[I(" 预览行程路线 ")]),_:1}),n(s,{modelValue:e.value.departureTime,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value.departureTime=l),name:"出发时间",label:"出发时间"},null,8,["modelValue"]),n(s,{modelValue:e.value.arriveTime,"onUpdate:modelValue":a[6]||(a[6]=l=>e.value.arriveTime=l),name:"到达时间",label:"到达时间"},null,8,["modelValue"])]),_:1})],64)}}},M=w(C,[["__scopeId","data-v-e48647f4"]]);export{M as default};
