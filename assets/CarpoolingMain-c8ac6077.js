import{l as v,J as d,o as _,m as h,w as f,r as w,a as r,p as b,c as n,b as k,z as s,d as y,W as C,e as c,X as R}from"./.pnpm-2d117cc4.js";import{u as T}from"./index-555cb1a4.js";const M={__name:"CarpoolingMain",setup(x){const e=v(),u=T(),{currentUser:a}=d(u),p=async({title:o})=>{o==="乘客-订单"?await e.push("/main/carpooling/passenger-order"):await e.push("/main/carpooling/driver-carpooling")},l=["/main/carpooling/home","/main/carpooling/passenger-order","/main/carpooling/driver-carpooling"];_(async()=>{e.currentRoute.value.path==="/main/carpooling/home"&&(a.value.user.isPassenger?await e.push("/main/carpooling/passenger-order"):await e.push("/main/carpooling/driver-carpooling"))});const t=h(!0);return f(()=>e.currentRoute.value.path,async o=>{t.value=l.indexOf(o)!==-1,e.currentRoute.value.path==="/main/carpooling/home"&&(a.value.user.isPassenger?await e.push("/main/carpooling/passenger-order"):await e.push("/main/carpooling/driver-carpooling"))}),(o,P)=>{const i=R,m=C,g=w("router-view");return r(),b("div",null,[t.value?(r(),n(m,{key:0,id:"van-tab",onClickTab:p,sticky:""},{default:k(()=>[c(a).user.isPassenger?(r(),n(i,{key:0,title:"乘客-订单",name:"order"})):s("",!0),c(a).user.isDriver?(r(),n(i,{key:1,title:"司机-行程",name:"carpooling"})):s("",!0)]),_:1})):s("",!0),y(g)])}}};export{M as default};
