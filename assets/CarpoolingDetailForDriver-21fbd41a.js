import{m as s,l as D,o as P,a as V,n as f,d as n,e as c,b as p,V as y,s as m,N as U,E as C,v as I,D as N,B as O}from"./.pnpm-33e9fd8e.js";import{a as S}from"./index-298f05d4.js";import{_ as T}from"./index-7706446e.js";import"./index-85061a81.js";const w={__name:"CarpoolingDetailForDriver",setup(b){const u=s(""),i=D(),e=s({}),o=new Map;o.set("ORDER_FORCE_CLOSED","订单强制结束"),o.set("PRE_ORDER_REQUEST_SUBMITTED","订单已提交"),o.set("PRE_ORDER_REQUEST_PASSED","订单已通过"),o.set("PRE_DEPARTURE_USER_CANCELLED","订单已被用户取消"),o.set("DRIVING_USER_CONFIRM_DEPARTURE","用户确认发车"),o.set("DRIVING_USER_CONFIRM_ARRIVED","用户确认到达"),o.set("ARRIVED_USER_UNPAID","用户未支付"),o.set("ORDER_NORMAL_CLOSED","订单正常结束");const v=async()=>{const t=await S(u.value);t!==null&&t.code===2e3?(e.value=t.result.result,console.log(e.value)):t!==null?m({type:"danger",message:`加载订单具体信息失败,${t.msg}`}):m({type:"danger",message:"加载订单具体信息失败,请检查网络连接"})},d=s("");P(async()=>{u.value=i.currentRoute.value.query.orderId,await v(),console.log(e.value.passingPoint)});const _=async()=>{const t=[];console.log(e.value),e.value.passingPoint!==""&&t.push(JSON.parse(e.value.passingPoint)),window.location.href="#/main/driver/preview-map?departurePoint="+e.value.departurePoint+"&arrivePoint="+e.value.arrivePoint+"&passingPoint="+e.value.passingPoint};return(t,a)=>{const R=U,r=N,E=O,g=C;return V(),f(y,null,[n(R,{title:"订单详情","left-text":"返回","left-arrow":"",onClickLeft:a[0]||(a[0]=l=>c(i).go(-1))}),n(g,{inset:""},{default:p(()=>[n(r,{readonly:"",modelValue:e.value.departurePoint,"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.departurePoint=l),name:"出发地",label:"出发地"},null,8,["modelValue"]),n(r,{readonly:"",modelValue:e.value.arrivePoint,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.arrivePoint=l),name:"到达地",label:"到达地"},null,8,["modelValue"]),n(r,{readonly:"",modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=l=>d.value=l),name:"途径地",label:"途径地"},null,8,["modelValue"]),n(E,{plain:"",block:"",type:"primary",size:"small",style:{width:"40%",margin:"2% auto"},onClick:a[4]||(a[4]=l=>_())},{default:p(()=>[I(" 预览行程路线 ")]),_:1}),n(r,{modelValue:e.value.departureTime,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value.departureTime=l),name:"出发时间",label:"出发时间"},null,8,["modelValue"]),n(r,{modelValue:e.value.arriveTime,"onUpdate:modelValue":a[6]||(a[6]=l=>e.value.arriveTime=l),name:"到达时间",label:"到达时间"},null,8,["modelValue"])]),_:1})],64)}}},L=T(w,[["__scopeId","data-v-67dde966"]]);export{L as default};
