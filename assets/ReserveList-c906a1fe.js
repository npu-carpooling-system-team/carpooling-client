import{l as R,m as y,o as B,a as _,n as C,d as e,e as N,p as b,b as t,X as k,s as o,N as h,O as D,Y as E,c as V,x as i,v as l,R as $,Z as z,B as A,P as G,E as T}from"./.pnpm-ba0d9b51.js";import{b as q,c as F}from"./index-74bd0f2c.js";import{_ as M}from"./index-f537e1ea.js";import"./index-efafad75.js";const O={class:"reserve-list-container"},P={__name:"ReserveList",setup(S){const u=R(),d=y(),f=y([]),m=async()=>{const s=await q(d.value);s!==null?s.code===2e3?f.value=s.result.list:o({type:"danger",message:"获取申请列表失败"+s.msg}):o({type:"danger",message:"获取申请列表失败"})};B(async()=>{const s=document.getElementById("van-tab");s!==null&&(s.style.display="none"),d.value=u.currentRoute.value.query.carpoolingId,await m()});const p=async(s,r)=>{const n=await F({orderId:s,pass:r});n!==null?n.code===2e3?(o({type:"success",message:"操作成功"}),await m()):o({type:"danger",message:"操作失败"+n.msg}):o({type:"danger",message:"操作失败"})};return(s,r)=>{const v=h,n=$,c=z,g=A,w=G,x=T,I=D;return _(),C(k,null,[e(v,{title:"拼车申请列表","left-text":"返回","left-arrow":"",onClickLeft:r[0]||(r[0]=a=>N(u).go(-1))}),b("div",O,[e(I,{finished:"","finished-text":"没有更多申请了"},{default:t(()=>[(_(!0),C(k,null,E(f.value,a=>(_(),V(x,{inset:"",key:a},{default:t(()=>[e(w,{class:"apply-item"},{default:t(()=>[e(n,null,{default:t(()=>[b("b",null,"乘客用户名: "+i(a.passengerName),1)]),_:2},1024),e(n,null,{default:t(()=>[l(" 申请时间: "+i(a.applyTime),1)]),_:2},1024),e(n,null,{default:t(()=>[e(c,{span:"12"},{default:t(()=>[l(" 订单号: "+i(a.orderId),1)]),_:2},1024),e(c,{span:"12"},{default:t(()=>[l(" 乘客号: "+i(a.passengerId),1)]),_:2},1024)]),_:2},1024),e(n,null,{default:t(()=>[e(c,{span:"12"},{default:t(()=>[e(g,{size:"mini",type:"success",icon:"success",onClick:L=>p(a.orderId,!0)},{default:t(()=>[l(" 同意 ")]),_:2},1032,["onClick"])]),_:2},1024),e(c,{span:"12"},{default:t(()=>[e(g,{size:"mini",type:"danger",icon:"cross",onClick:L=>p(a.orderId,!1)},{default:t(()=>[l(" 拒绝 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])],64)}}},H=M(P,[["__scopeId","data-v-f54e0fb0"]]);export{H as default};
