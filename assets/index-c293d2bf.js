import{a0 as a,g as t,s as n}from"./.pnpm-cd511795.js";const o=a.create({baseURL:"https://carpooling-server.wangminan.me"});o.interceptors.request.use(e=>(t.get("token")!==void 0&&(e.headers.Authorization="Bearer "+t.get("token")),e),e=>Promise.reject(e));o.interceptors.response.use(e=>(e!==null&&e.data!==null&&e.data.code!==null&&(e.data.code===4012||e.data.code===4010||e.data.code===4030)&&(t.remove("token"),n({type:"danger",message:"登录过期，将跳转至登录页"}),setTimeout(()=>{window.location.href="/login"},3e3)),e),e=>Promise.reject(e));export{o as _};
